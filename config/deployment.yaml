# Deployment configuration for Databricks Chat Template
# This file defines deployment targets for different environments (dev, staging, production)
#
# CUSTOMIZATION REQUIRED:
# Replace the following placeholders with your actual values:
#   - YOUR_EMAIL@example.com  -> Your Databricks user email
#   - YOUR_USERNAME           -> Your Databricks username (for workspace paths)

environments:
  development:
    app_name: "chat-template-dev"
    description: "Databricks Chat Template - Development Environment"
    # TODO: Replace YOUR_USERNAME with your Databricks username
    workspace_path: "/Workspace/Users/YOUR_EMAIL@example.com/.apps/dev/chat-template"
    permissions:
      # TODO: Replace with your Databricks user email
      - user_name: "YOUR_EMAIL@example.com"
        permission_level: "CAN_MANAGE"
    compute_size: "MEDIUM"  # Options: MEDIUM, LARGE
    env_vars:
      ENVIRONMENT: "development"
      LOG_LEVEL: "DEBUG"
      LAKEBASE_INSTANCE: "chat-template-dev-db"
      LAKEBASE_SCHEMA: "app_data"
    lakebase:
      database_name: "chat-template-dev-db"
      schema: "app_chat_template_data"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

  staging:
    app_name: "chat-template-staging"
    description: "Databricks Chat Template - Staging Environment"
    workspace_path: "/Workspace/Shared/apps/staging/chat-template"
    permissions:
      # TODO: Replace "developers" with your team's group name
      - group_name: "developers"
        permission_level: "CAN_USE"
      # TODO: Replace with your Databricks user email
      - user_name: "YOUR_EMAIL@example.com"
        permission_level: "CAN_MANAGE"
    compute_size: "MEDIUM"  # Options: MEDIUM, LARGE
    env_vars:
      ENVIRONMENT: "staging"
      LOG_LEVEL: "INFO"
      LAKEBASE_INSTANCE: "chat-template-staging-db"
      LAKEBASE_SCHEMA: "app_chat_template_data"
    lakebase:
      database_name: "chat-template-staging-db"
      schema: "app_data"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

  production:
    app_name: "chat-template"
    description: "Databricks Chat Template - Production"
    workspace_path: "/Workspace/Shared/apps/production/chat-template"
    permissions:
      # TODO: Replace with your organization's group names
      - group_name: "users"
        permission_level: "CAN_USE"
      - group_name: "admins"
        permission_level: "CAN_MANAGE"
    compute_size: "LARGE"  # Options: MEDIUM, LARGE
    env_vars:
      ENVIRONMENT: "production"
      LOG_LEVEL: "INFO"
      LAKEBASE_INSTANCE: "chat-template-db"
      LAKEBASE_SCHEMA: "app_data"
    lakebase:
      database_name: "chat-template-db"
      schema: "app_chat_template_data"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

# Common settings across all environments
common:
  build:
    exclude_patterns:
      - "*.pyc"
      - "__pycache__"
      - ".git"
      - ".venv"
      - "venv"
      - "node_modules"
      - "tests"
      - ".pytest_cache"
      - "*.log"
      - ".env"
      - ".env.*"
      - "docs"
      - "examples"
      - "mlruns"
      - "logs"
      - "output"
      - "*.md"
      - ".cursor"
      - ".databricks"
  
  deployment:
    timeout_seconds: 300
    poll_interval_seconds: 5
